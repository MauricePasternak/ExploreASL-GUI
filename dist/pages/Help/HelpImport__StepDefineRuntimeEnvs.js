import ExpandMoreIcon from "@mui/icons-material/ExpandMore";
import Accordion from "@mui/material/Accordion";
import AccordionDetails from "@mui/material/AccordionDetails";
import AccordionSummary from "@mui/material/AccordionSummary";
import Box from "@mui/material/Box";
import DialogContent from "@mui/material/DialogContent";
import DialogContentText from "@mui/material/DialogContentText";
import Divider from "@mui/material/Divider";
import Stack from "@mui/material/Stack";
import Typography from "@mui/material/Typography";
import React, { useState } from "react";
import HelperImage__EASLCompiledExample from "../../assets/img/HelperImages/HelperImage__EASLCompiledExample.png";
import HelperImage__EASLGithubExample from "../../assets/img/HelperImages/HelperImage__EASLGithubExample.png";
import HelperImage__ImportBeforeAndAfter from "../../assets/img/HelperImages/HelperImage__ImportBeforeAndAfter.png";
import HelperImage__ImportFolderStructureMapping from "../../assets/img/HelperImages/HelperImage__ImportFolderStructureMapping.png";
import HelperImage__MATLABRuntimeExample from "../../assets/img/HelperImages/HelperImage__MATLABRuntimeExample.png";
import HelperImage__StudyRootWithSourcedataExample from "../../assets/img/HelperImages/HelperImage__StudyRootWithSourcedataExample.png";
import { DialogTitleH4 } from "../../components/TypographyComponents/DialogTitle";
import { SecureLink } from "../../components/NavComponents";
import { BulletPointList } from "./HelpStyledComponents";
function HelpImport__StepDefineRuntimeEnvs() {
    const { api } = window;
    const [expanded, setExpanded] = useState(false);
    const handleAccordionChange = (panel) => (event, isExpanded) => {
        setExpanded(isExpanded ? panel : false);
    };
    return (React.createElement(React.Fragment, null,
        React.createElement(DialogTitleH4, null, "Help Page Define Folder Structure"),
        React.createElement(DialogContent, null,
            React.createElement(Stack, { spacing: 1 },
                React.createElement(DialogContentText, null, "Select a question that best describes your concern."),
                React.createElement("section", null,
                    React.createElement(Accordion, { expanded: expanded === "panel__whatistheimportmodule", onChange: handleAccordionChange("panel__whatistheimportmodule") },
                        React.createElement(AccordionSummary, { expandIcon: React.createElement(ExpandMoreIcon, null) },
                            React.createElement(Typography, null, "What does the \"Import Dataset\" part of the program do?")),
                        React.createElement(Divider, null),
                        React.createElement(AccordionDetails, null,
                            React.createElement("p", null,
                                "MRI Images come off the scanner in a file format called ",
                                React.createElement("strong", null, "DICOM"),
                                ". While useful for storage, most MRI image analysis programs require a different file format called",
                                " ",
                                React.createElement("strong", null, "NIFTI"),
                                "."),
                            React.createElement("br", null),
                            React.createElement("p", null, "Furthermore, the output between scanners is not standardized, resulting in difficulties with respect to collaborations between MRI image study groups and in the setup of the analyses."),
                            React.createElement("br", null),
                            React.createElement("p", null,
                                "Therefore, this module aims to convert an existing scanner output format into a",
                                " ",
                                React.createElement(SecureLink, { href: "https://bids.neuroimaging.io/" }, "BIDS-standard"),
                                " structure while also converting the DICOM files into NIFTI format."),
                            React.createElement("br", null),
                            React.createElement("p", null, "Here is an example of pre- and post- import folder structures:"),
                            React.createElement(Box, { mx: "auto", display: "block", maxWidth: 500, component: "img", src: HelperImage__ImportBeforeAndAfter }),
                            React.createElement("p", null,
                                React.createElement("strong", null, "\"sourcedata\""),
                                " contains the intial filestructure output from your MRI scanner.",
                                " ",
                                React.createElement("strong", null, "\"rawdata\""),
                                " contains the BIDS-standard NIFTI conversion. ",
                                React.createElement("strong", null, "\"derivatives\""),
                                " ",
                                "contains the various analyses performed on copies of files from rawdata.")))),
                React.createElement("section", null,
                    React.createElement(Accordion, { expanded: expanded === " panel__whatisExploreASLType", onChange: handleAccordionChange(" panel__whatisExploreASLType") },
                        React.createElement(AccordionSummary, { expandIcon: React.createElement(ExpandMoreIcon, null) },
                            React.createElement(Typography, null, "What is ExploreASL Type?")),
                        React.createElement(Divider, null),
                        React.createElement(AccordionDetails, null,
                            React.createElement("p", null, "There are two versions of ExploreASL that can be run:"),
                            React.createElement(BulletPointList, null,
                                React.createElement("li", null, "from the Github repository"),
                                React.createElement("li", null, "as a packaged & compiled folder")),
                            React.createElement("br", null),
                            React.createElement("p", null, "These have different requirements regarding ancillary software needed to run them."),
                            React.createElement("br", null),
                            React.createElement("p", null,
                                "The",
                                " ",
                                React.createElement(SecureLink, { href: "https://github.com/ExploreASL/ExploreASL" }, "Github version of ExploreASL"),
                                " ",
                                "requires an activated version of MATLAB 2019a or later."),
                            React.createElement("br", null),
                            React.createElement("p", null,
                                "The packaged version of ExploreASL requires a MATLAB Runtime of version 2019a or later. The primary advantage of this option is that MATLAB Runtime is free. Click",
                                " ",
                                React.createElement(SecureLink, { href: "https://www.mathworks.com/products/compiler/matlab-runtime.html" }, "here"),
                                " ",
                                "to be taken to download a MATLAB Runtime for your system.")))),
                React.createElement("section", null,
                    React.createElement(Accordion, { expanded: expanded === "panel__whatisExploreASLPath", onChange: handleAccordionChange("panel__whatisExploreASLPath") },
                        React.createElement(AccordionSummary, { expandIcon: React.createElement(ExpandMoreIcon, null) },
                            React.createElement(Typography, null, "What is ExploreASL Path?")),
                        React.createElement(Divider, null),
                        React.createElement(AccordionDetails, null,
                            React.createElement("p", null, "This is the filepath to the root folder of the ExploreASL program that will be used. This folder differs depending on the value chosen for the \"ExploreASL Type\" field."),
                            React.createElement("br", null),
                            React.createElement("p", null, "If the Github (standard) version of ExploreASL was selected, this should be the folder, typically called \"ExploreASL\" that was downloaded from the repository. You can confirm this is the appropriate folder if it contains the following structure:"),
                            React.createElement(Box, { mx: "auto", display: "block", maxWidth: 500, component: "img", src: HelperImage__EASLGithubExample }),
                            React.createElement("br", null),
                            React.createElement("br", null),
                            React.createElement("p", null, "Therefore, a typical filepath to supply would be, for example:"),
                            api.platform === "win32" ? (React.createElement("p", null, "C:\\Users\\JohnDoe\\MATLAB\\ExploreASL")) : (React.createElement("p", null, "/home/JohnDoe/MATLAB/ExploreASL")),
                            React.createElement("br", null),
                            React.createElement("p", null, "Otherwise, if it is the packaged (compiled) version, the the file structure within differs:"),
                            React.createElement(Box, { mx: "auto", display: "block", maxWidth: 500, component: "img", src: HelperImage__EASLCompiledExample }),
                            React.createElement("br", null),
                            React.createElement("br", null),
                            React.createElement("p", null, "For the packaged version, note that there may also be an extra folder that appears called \"xASL_latest_mcr\". It is created the first time that the packaged version of ExploreASL is run and should not be deleted.")))),
                React.createElement("section", null,
                    React.createElement(Accordion, { expanded: expanded === "panel__whatisMATLABRuntimePath", onChange: handleAccordionChange("panel__whatisMATLABRuntimePath") },
                        React.createElement(AccordionSummary, { expandIcon: React.createElement(ExpandMoreIcon, null) },
                            React.createElement(Typography, null, "What is MATLAB Runtime Path")),
                        React.createElement(Divider, null),
                        React.createElement(AccordionDetails, null,
                            React.createElement("p", null,
                                "Firstly, this is only a necessary field if you intend to use the packaged/compiled version of ExploreASL (not the one from the Github repository). You can (and should) leave this field blank if you intend to use the ExploreASL version originating from Github. Otherwise, start by ensuring you have followed",
                                " ",
                                React.createElement(SecureLink, { href: "https://www.mathworks.com/help/compiler/install-the-matlab-runtime.html" }, "the appropriate steps from the MATLAB website"),
                                "."),
                            React.createElement("br", null),
                            React.createElement("p", null, "The folder that you're looking for to specify for the GUI has the format v## (i.e. v97). A typical location of this can be, for example:"),
                            api.platform === "win32" ? (React.createElement("p", null, "C:\\Users\\JohnDoe\\MATLAB\\MATLAB_Runtime\\v97")) : (React.createElement("p", null, "/home/JohnDoe/MATLAB/MATLAB_Runtime/v97")),
                            React.createElement("br", null),
                            React.createElement("p", null, "This v## folder typically has the following structure:"),
                            React.createElement(Box, { mx: "auto", display: "block", maxWidth: 500, component: "img", src: HelperImage__MATLABRuntimeExample })))),
                React.createElement("section", null,
                    React.createElement(Accordion, { expanded: expanded === "panel__whatisStudyRootFolder", onChange: handleAccordionChange("panel__whatisStudyRootFolder") },
                        React.createElement(AccordionSummary, { expandIcon: React.createElement(ExpandMoreIcon, null) },
                            React.createElement(Typography, null, "What is the Study Root Folder?")),
                        React.createElement(Divider, null),
                        React.createElement(AccordionDetails, null,
                            React.createElement("p", null,
                                "This is the root folder of your overall study that must adhere to",
                                " ",
                                React.createElement(SecureLink, { href: "https://bids.neuroimaging.io/" }, "Brain Imaging Data Structure (BIDS)"),
                                " ",
                                "standard in order to be usable by ExploreASL. An example of a BIDS-compatible folder structure would be:"),
                            React.createElement("br", null),
                            React.createElement(Box, { mx: "auto", display: "block", maxWidth: 400, component: "img", src: HelperImage__StudyRootWithSourcedataExample }),
                            React.createElement("br", null),
                            React.createElement("p", null,
                                "As this is the Import Module, the only mandatory folder that must be present is",
                                " ",
                                React.createElement("strong", null, "sourcedata"),
                                ". The other two common subfolders, ",
                                React.createElement("strong", null, "rawdata"),
                                " and",
                                " ",
                                React.createElement("strong", null, "derivatives"),
                                " are generated by this Import Module when the program is run."),
                            React.createElement("br", null),
                            React.createElement("p", null, "Additional expectations about the folder structure of your study are outlined below under \"How should the data be organized to work with the Import Module?\"")))),
                React.createElement("section", null,
                    React.createElement(Accordion, { expanded: expanded === "panel__whatissourcestructure", onChange: handleAccordionChange("panel__whatissourcestructure") },
                        React.createElement(AccordionSummary, { expandIcon: React.createElement(ExpandMoreIcon, null) },
                            React.createElement(Typography, null, "What is going on in the Study Structure area and what is sourcedata?")),
                        React.createElement(Divider, null),
                        React.createElement(AccordionDetails, null,
                            React.createElement("p", null, "In compliance with BIDS standard, it is expected that original scan data is placed inside a folder called \"sourcedata\", which itself is a folder found at the root of your MRI project."),
                            React.createElement("br", null),
                            React.createElement("p", null, "In 99% of cases, the output from MRI scanners contains 1 piece of information for every folder depth that is output. One level may contain subject descriptors, another folder depth may describe the type of scan acquired, etc. Of course some folders may contain no relevant information and should be ignored (i.e. a redunant folder called DICOM is typically output by certain Siemens scanners)."),
                            React.createElement("br", null),
                            React.createElement("p", null,
                                "The user is expected to tell the program what piece of information is kept at each folder depth from",
                                " ",
                                React.createElement("strong", null, "\"sourcedata\""),
                                " to, and including, the last folder that contains the DICOM files. The following are the available options:"),
                            React.createElement(BulletPointList, null,
                                React.createElement("li", null, "Subject"),
                                React.createElement("li", null, "Visit"),
                                React.createElement("li", null, "Session"),
                                React.createElement("li", null, "Scan"),
                                React.createElement("li", null, "Ignore")),
                            React.createElement("br", null),
                            React.createElement("p", null, "The following is an example of such user specification:"),
                            React.createElement("br", null),
                            React.createElement(Box, { mx: "auto", display: "block", maxWidth: 500, component: "img", src: HelperImage__ImportFolderStructureMapping }),
                            React.createElement("br", null),
                            React.createElement("p", null, "A point of clarification, as there may be some confusion between Visit and Session. A session is an instance of scanning that typically occurs in quick succession to another while being the same image modality type (i.e. a scan while resting, another scan while performing a task). A visit can, essentially, be thought of as every instance where a patient visits the scanner facility for one or more scans, typically significant time periods apart (i.e. one visit to be scanned at \"baseline\" and then another a year later as a \"followup\" visit).")))),
                React.createElement("section", null,
                    React.createElement(Accordion, { expanded: expanded === "panel__whatdoesIgnoremean", onChange: handleAccordionChange("panel__whatdoesIgnoremean") },
                        React.createElement(AccordionSummary, { expandIcon: React.createElement(ExpandMoreIcon, null) },
                            React.createElement(Typography, null, "What does Ignore mean?")),
                        React.createElement(Divider, null),
                        React.createElement(AccordionDetails, null,
                            React.createElement("p", null, "Simply put, it is a folder that should not be taken into account when determining a piece of information about the dataset. Typically, scanners will produce redundant folders with either jibberish names and fluff like \"DICOM\" before actually reaching a folder level that contains the dicom files."),
                            React.createElement("br", null),
                            React.createElement("p", null, "The DUMMY designation is to tell the program \"hey, ignore this level of folders that appears after sourcedata, but keep in mind how it pads the folder structure\".")))),
                React.createElement("section", null,
                    React.createElement(Accordion, { expanded: expanded === "panel__whatifafoldercontainstwopiecesofinfo", onChange: handleAccordionChange("panel__whatifafoldercontainstwopiecesofinfo") },
                        React.createElement(AccordionSummary, { expandIcon: React.createElement(ExpandMoreIcon, null) },
                            React.createElement(Typography, null, "What if a folder contains two pieces of information?")),
                        React.createElement(Divider, null),
                        React.createElement(AccordionDetails, null,
                            React.createElement("p", null,
                                "At the current time, the program does not support mixed-information folder levels. For example, a folder with name: \"sub-001_ASL\" would not be valid, as it contains both information about the subject and the scan type. The Import Module currently expects that all folder levels contain",
                                " ",
                                React.createElement("strong", null, "one and only one\u00A0"),
                                "piece of information about the dataset."))))))));
}
export default React.memo(HelpImport__StepDefineRuntimeEnvs);
//# sourceMappingURL=HelpImport__StepDefineRuntimeEnvs.js.map