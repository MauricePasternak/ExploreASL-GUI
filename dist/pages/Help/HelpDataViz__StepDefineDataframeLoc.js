import React, { useState } from "react";
import { DialogTitleH4 } from "../../components/TypographyComponents/DialogTitle";
import Accordion from "@mui/material/Accordion";
import AccordionDetails from "@mui/material/AccordionDetails";
import AccordionSummary from "@mui/material/AccordionSummary";
import DialogContent from "@mui/material/DialogContent";
import DialogContentText from "@mui/material/DialogContentText";
import Divider from "@mui/material/Divider";
import Stack from "@mui/material/Stack";
import Typography from "@mui/material/Typography";
import ExpandMoreIcon from "@mui/icons-material/ExpandMore";
import { BulletPointList, NumberedPointList } from "./HelpStyledComponents";
import HelperImage__DataVizRerunPopulationModule from "../../assets/img/HelperImages/HelperImage__DataVizRerunPopulationModule.png";
import Box from "@mui/material/Box";
import { SecureLink } from "../../components/NavComponents";
function HelpDataViz__StepDefineDataframeLoc() {
    const [expanded, setExpanded] = useState(false);
    const handleAccordionChange = (panel) => (event, isExpanded) => {
        setExpanded(isExpanded ? panel : false);
    };
    return (React.createElement(React.Fragment, null,
        React.createElement(DialogTitleH4, null, "Help Load Dataframe"),
        React.createElement(DialogContent, null,
            React.createElement(Stack, { spacing: 1 },
                React.createElement(DialogContentText, null, "Select a question that best describes your concern."),
                React.createElement("section", null,
                    React.createElement(Accordion, { expanded: expanded === "panel__whatisthedatavizmodule", onChange: handleAccordionChange("panel__whatisthedatavizmodule") },
                        React.createElement(AccordionSummary, { expandIcon: React.createElement(ExpandMoreIcon, null) },
                            React.createElement(Typography, null, "What does the \"Data Visualization\" part of the program do?")),
                        React.createElement(Divider, null),
                        React.createElement(AccordionDetails, null,
                            React.createElement("p", null, "The intent of this module is two-fold:"),
                            React.createElement(BulletPointList, null,
                                React.createElement("li", null, "To allow users to visualize how the cerebral blood flow (CBF) data of analyzed subjects\u00A0maps against other variables of interest. This greatly speeds up the identification of quantitative outliers."),
                                React.createElement("li", null, "To assist users in quality control. If a data point comes off as an outlier, users can just click on said data point and be presented with the CBF volumes as interactive axial, coronal, and sagittal slice views. While ExploreASL outputs very helpful summaries, they are restricted to only certain slices which risks the chance of artifacts being omitted. With an interactive view, this is no longer an issue."))))),
                React.createElement("section", null,
                    React.createElement(Accordion, { expanded: expanded === "panel__useforownspreadsheets", onChange: handleAccordionChange("panel__useforownspreadsheets") },
                        React.createElement(AccordionSummary, { expandIcon: React.createElement(ExpandMoreIcon, null) },
                            React.createElement(Typography, null, "Can I use this part of the program to visualize only my own spreadsheets?")),
                        React.createElement(Divider, null),
                        React.createElement(AccordionDetails, null,
                            React.createElement("p", null, "Unfortunately, at the current time, this option is not available, since the program is specifically geared towards plotting the output of ExploreASL. You can, however, merge the ExploreASL data with your own metadata as long as the latter possesses a column to merge with."),
                            React.createElement("br", null),
                            React.createElement("p", null, "The merge column the must be present depends on the version of ExploreASL that was used to run the analysis:"),
                            React.createElement(BulletPointList, null,
                                React.createElement("li", null, "SUBJECT for ExploreASL versions 1.9.0 and earlier"),
                                React.createElement("li", null, "participant_id for ExploreASL versions 1.10.0 and later"))))),
                React.createElement("section", null,
                    React.createElement(Accordion, { expanded: expanded === "panel__canIloadexcelspreadsheets", onChange: handleAccordionChange("panel__canIloadexcelspreadsheets") },
                        React.createElement(AccordionSummary, { expandIcon: React.createElement(ExpandMoreIcon, null) },
                            React.createElement(Typography, null, "Can I load Microsoft Excel spreadsheets as my metadata?")),
                        React.createElement(Divider, null),
                        React.createElement(AccordionDetails, null,
                            React.createElement("p", null, "Yes and no."),
                            React.createElement("br", null),
                            React.createElement("p", null, "Only comma-separated values (.csv) or tab-separated values (.tsv) files are accepted for metadata. And while Excel spreadsheets don't fit that criteria, all excel spreadsheets have the option to be exported as one of the two in Microsoft Excel. You'll just have to do that extra step.")))),
                React.createElement("section", null,
                    React.createElement(Accordion, { expanded: expanded === "panel__itisntacceptingtheindicatedatlases", onChange: handleAccordionChange("panel__itisntacceptingtheindicatedatlases") },
                        React.createElement(AccordionSummary, { expandIcon: React.createElement(ExpandMoreIcon, null) },
                            React.createElement(Typography, null, "Why isn't it accepting the atlases I've selected?!")),
                        React.createElement(Divider, null),
                        React.createElement(AccordionDetails, null,
                            React.createElement("p", null, "Because it would have been necessary to have those atlases first indicated in the \"Define Parameters\" section of this program."),
                            React.createElement("p", null, "Fortunately, it isn't too much of a hassle to get things to work with these steps:"),
                            React.createElement(NumberedPointList, null,
                                React.createElement("li", null, "Go back to the \"Define Parameters\" section of this program and load in your study's dataPar.json file."),
                                React.createElement("li", null, "Go to the \"Processing Parameters\" tab of that section and indicate the atlases you are interested in."),
                                React.createElement("li", null, "Save the new dataPar.json file which will overwrite the old one."),
                                React.createElement("li", null, "Go to the \"Process Studies\" --> \"Prepare A Re-run\" section. Load in the study which will need to have its Population Module re-run."),
                                React.createElement("li", null,
                                    "Expand the xASL_module_Population portions and select the step associated with calculating ROI statistics. Tell the program to delete that step.",
                                    React.createElement(Box, { mx: "auto", my: 2, display: "block", maxWidth: 500, component: "img", src: HelperImage__DataVizRerunPopulationModule })),
                                React.createElement("li", null, "Go to the\u00A0\"Run ExploreASL\" tab and run the Population Module for this study."),
                                React.createElement("li", null, "Once completed successfully, you will be permitted to indicate those atlases."))))),
                React.createElement("section", null,
                    React.createElement(Accordion, { expanded: expanded === "panel__howcanIgettheprogramtoacceptmymetadata", onChange: handleAccordionChange("panel__howcanIgettheprogramtoacceptmymetadata") },
                        React.createElement(AccordionSummary, { expandIcon: React.createElement(ExpandMoreIcon, null) },
                            React.createElement(Typography, null, "What are the requirements for the program to accept my metadata?")),
                        React.createElement(Divider, null),
                        React.createElement(AccordionDetails, null,
                            React.createElement("p", null,
                                "The metadata spreadsheet must contain a merge in order to perform an",
                                " ",
                                React.createElement(SecureLink, { href: "https://miro.medium.com/max/1838/1*UAPgZRnhFG29C0nDFi5D0A.png" }, "outer-left join"),
                                " ",
                                "with the ExploreASL data (the latter being the \"left\" portion of the join). As this is an outer-left join, subjects which are present in the metadata but absent in the ExploreASL data will be removed."),
                            React.createElement("br", null),
                            React.createElement("p", null, "The merge column the must be present depends on the version of ExploreASL that was used to run the analysis:"),
                            React.createElement(BulletPointList, null,
                                React.createElement("li", null, "SUBJECT for ExploreASL versions 1.9.0 and earlier"),
                                React.createElement("li", null, "participant_id for ExploreASL versions 1.10.0 and later")),
                            React.createElement("br", null),
                            React.createElement("p", null, "In addition to the merge column (which must be present regardless) you can also merge with an additional column called: session. Again, the nature of the join is outer-left. Rows for the merge column and session which are present in the metadata but absent in the ExploreASL data will be removed.")))),
                React.createElement("section", null,
                    React.createElement(Accordion, { expanded: expanded === "panel__willsomeofmymetadatacolumnsberemoved", onChange: handleAccordionChange("panel__willsomeofmymetadatacolumnsberemoved") },
                        React.createElement(AccordionSummary, { expandIcon: React.createElement(ExpandMoreIcon, null) },
                            React.createElement(Typography, null, "Will some of my metadata columns be removed?")),
                        React.createElement(Divider, null),
                        React.createElement(AccordionDetails, null,
                            React.createElement("p", null, "It is possible that some of your metadata columns will be removed. Currently, the following conditions will cause the removal of a column:"),
                            React.createElement("br", null),
                            React.createElement(BulletPointList, null,
                                React.createElement("li", null, "It is completely empty."),
                                React.createElement("li", null, "It contains mixed types of data (i.e. pure numbers in certain cells and alphanumeric characters in other cells)"),
                                React.createElement("li", null,
                                    "It contains complex/nested values (i.e. if this:\u00A0[1, 2, 3] was inside a cell, it is interpreted as an array of numbers). Arrays (i.e. [1, 2, 3]) and JSON-like content (i.e. ",
                                    "{",
                                    " key: value ",
                                    "}",
                                    ") is interpreted as complex."))))),
                React.createElement("section", null,
                    React.createElement(Accordion, { expanded: expanded === "panel__doyousupportcustomrois", onChange: handleAccordionChange("panel__doyousupportcustomrois") },
                        React.createElement(AccordionSummary, { expandIcon: React.createElement(ExpandMoreIcon, null) },
                            React.createElement(Typography, null, "Do you support custom ROIs (i.e. masks of clusters in a voxelwise analysis?)")),
                        React.createElement(Divider, null),
                        React.createElement(AccordionDetails, null,
                            React.createElement("p", null, "At the current time, only defined regions from popular atlases (i.e. Harvard-Oxford Cortical) are supported.\u00A0"),
                            React.createElement("br", null),
                            React.createElement("p", null,
                                React.createElement("strong", null, "In the future"),
                                ", we will consider allowing users to indicate their own regions by supplying:"),
                            React.createElement(BulletPointList, null,
                                React.createElement("li", null, "A NIFTI file in MNI-space (121 x 145 x 121 voxels) with integers masking the regions of interest."),
                                React.createElement("li", null, "A \".tsv\" file with one row with the names of regions. The order of these names will have to correspond to the ascending order of integers in the NIFTI file.")))))))));
}
export default React.memo(HelpDataViz__StepDefineDataframeLoc);
//# sourceMappingURL=HelpDataViz__StepDefineDataframeLoc.js.map